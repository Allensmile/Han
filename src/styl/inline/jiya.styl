
/**
 * CJK Biaodian compression (CJK標點擠壓)
 */
h-cs,
h-cs[hidden]
  // box
  display: none
  visibility: hidden
  // typography
  font: .825em Courier
  letter-spacing: 0
  white-space: normal

// * Handle line start/end Biaodian (行首行尾標點擠壓)
// *
h-char.biaodian
  &.bd-open > h-inner
    margin-left: -.5em

  &.bd-close,
  &[unicode='3001'],
  &[unicode='3002'],
  &[unicode='ff0c'],
  &[unicode='ff0e']
    > h-inner
      letter-spacing: -.5em

  &.bd-open,
  &.bd-close,
  &[unicode='3001'],
  &[unicode='3002'],
  &[unicode='ff0c'],
  &[unicode='ff0e']
    > h-cs
      display: inline

  &[unicode='3001'],
  &[unicode='3002'],
  &[unicode='ff0c'],
  &[unicode='ff0e']
    &:lang(zh-Hant),
    &:lang(zh-TW),
    &:lang(zh-HK)
      > h-inner
        letter-spacing: inherit
      > h-cs
        display: none

// * Handle consecutive Biaodian (連續標點擠壓)
// *
h-char.consecutive-bd
  // * Basic situation
  // *
  &.bd-end:not(.is-end) h-cs,
  &.bd-open.is-first + .bd-open.is-inner h-cs,
  &.bd-open.is-first + .bd-open.is-end h-cs,
  &.bd-open.is-inner + .bd-open.is-inner h-cs,
  &.bd-open.is-inner + .bd-open.is-end h-cs
    display: none

  &[unicode='3001'],
  &[unicode='3002'],
  &[unicode='ff0c'],
  &[unicode='ff0e']
    &:lang(zh-Hant),
    &:lang(zh-TW),
    &:lang(zh-HK)
      &.is-first + .bd-open.is-inner h-cs
      &.is-first + .bd-open.is-end h-cs
      &.is-inner + .bd-open.is-inner h-cs
      &.is-inner + .bd-open.is-end h-cs
        display: none

  &.bd-open:not(.is-first) h-cs
    &:lang(zh-Hant),
    &:lang(zh-TW),
    &:lang(zh-HK)
      display: none

  &.bd-close.is-first + .bd-open.is-inner h-cs
  &.bd-close.is-first + .bd-open.is-end h-cs
  &.bd-close.is-inner + .bd-open.is-inner h-cs
  &.bd-close.is-inner + .bd-open.is-end h-cs
    &:lang(zh-Hant),
    &:lang(zh-TW),
    &:lang(zh-HK)
      display: inline

  // * Handle ‘「漢」·「字」’ situation
  // *
  &[unicode='b7'],
  &[unicode='30fb']
    &:not(.is-end)
      letter-spacing: -.5em

    & + .bd-open h-cs
      &:lang(zh-Hant),
      &:lang(zh-TW),
      &:lang(zh-HK)
        display: inline

  // * Handle ‘……「漢字’ situation
  // *
  &.bd-liga:not(.is-end)
    margin-right: -.25em

  &.bd-liga.is-first + .bd-open.is-inner h-cs
  &.bd-liga.is-first + .bd-open.is-end h-cs
  &.bd-liga.is-inner + .bd-open.is-inner h-cs
  &.bd-liga.is-inner + .bd-open.is-end h-cs
    &:lang(zh-Hant),
    &:lang(zh-TW),
    &:lang(zh-HK)
      display: inline

